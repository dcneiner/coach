/*!
 * Coach, the JavaScript Dribbble API Wrapper
 * Copyright (c) 2010 by Doug Neiner
 * 
 * License: Dual licensed under MIT or GPL
 * Source: http://github.com/dcneiner/coach
 */
  
var Coach=function(h){var j=null,k=0,i=false,l=0,m=[],p=function(b){l+=1;Coach.callbacks["c"+l]=function(a){b.call(Coach,a);Coach.onProcess&&Coach.onProcess.call(Coach)};return"Coach.callbacks.c"+l},q=function(){j=window.setTimeout(function(){k=0;i===true&&Coach.onResume&&Coach.onResume.call(Coach);i=false;for(var b=0;b<m.length;b+=1)o(m.shift());j=null},6E4)},o=function(b){j||q();if(k>59){m.push(b);if(i===false){i=true;Coach.onPause&&Coach.onPause.call(Coach)}}else{k+=1;var a=document.createElement("script");
 a.type="text/javascript";a.src=b;document.getElementsByTagName("head")[0].appendChild(a)}};return{callbacks:{},onPause:null,onResume:null,onProcess:null,shot:function(b,a){this.api(["http://api.dribbble.com","shots",b],a);return Coach},shots:function(b,a,e,c){if(b==="debuts"||b==="everyone"||b==="popular")return this.api(["http://api.dribbble.com","shots",b],a,e,c);return Coach},player:function(b){var a=this,e=["http://api.dribbble.com","players",b];return{get:function(c){a.api(e,c);return a},shots:function(c,
 d,f,g){var n=e.slice();n.push("shots");if(typeof c!=="boolean"){g=f;f=d;d=c}else c===true&&n.push("following");a.api(n,d,f,g);return a},followers:function(c){var d=e.slice();d.push("followers");a.api(d,c);return a},following:function(c){var d=e.slice();d.push("following");a.api(d,c);return a},draftees:function(c){var d=e.slice();d.push("draftees");a.api(d,c);return a}}},api:function(b,a,e,c){var d={r:Math.floor(Math.random()*9999999)},f=[],g;if(typeof b!=="string")b=b.join("/");if(typeof a==="function"){c=
 a;a=e=h}if(typeof e==="function"){c=e;e=h}if(typeof c!=="function")return Coach;d.callback=p(c);if(a!==h)d.page=a;if(e!==h)d.per_page=e;for(g in d)f.push([g,encodeURIComponent(d[g])].join("="));b=b+"?"+f.join("&");o(b);return Coach},api_url:"http://api.dribbble.com"}}();